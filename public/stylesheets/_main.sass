=border-radius($prop...)
  -webkit-border-radius: $prop
  -moz-border-radius: $prop
  -ms-border-radius: $prop
  border-radius: $prop

=transition($prop...)
  -webkit-transition: $prop
  -moz-transition: $prop
  -o-transition: $prop
  transition: $prop

=animation($prop...)
  -webkit-animation: $prop
  -moz-animation: $prop
  -o-animation: $prop
  animation: $prop

=active-step-style()
  fill: #E55564
  color: #EA2D48

=inactive-step-style()
  fill: #d1d1d1
  color: #afafaf

=user-select($prop...)
  -webkit-touch-callout: $prop
  -webkit-user-select: $prop
  -khtml-user-select: $prop
  -moz-user-select: $prop
  -ms-user-select: $prop
  user-select: $prop

=box-shadow($prop...)
  -webkit-box-shadow: $prop
  -moz-box-shadow: $prop
  box-shadow: $prop

=keyframes($name)
  @-webkit-keyframes #{$name}
    @content
  @-moz-keyframes #{$name}
    @content
  @-ms-keyframes #{$name}
    @content
  @keyframes #{$name}
    @content

=transform($props...)
  -moz-transform: $props
  -webkit-transform: $props
  transform: $props

=arrow($color, $size, $direction:down)
  border: $size solid
  height: 0
  width: 0
  @if $direction == down
    border-color: $color transparent transparent transparent
  @if $direction == right
    border-color: transparent $color transparent transparent
  @if $direction == up
    border-color: transparent transparent $color transparent
  @if $direction == left
    border-color: transparent transparent transparent $color

@function logo_ratio_w_to_h($width)
  @return 105.7 / 184 * $width

html
  height: 100%

body
  min-height: 100%

$footer_height: 20em
$max_page_width: 70em

.dropdown
  position: relative

  &.open
    > .dropdown_content
      display: block

  > .dropdown_content
    position: absolute
    width: 10em
    &.right
      right: 0.5em
      &:before
        right: 1em
    &.left
      left: 0.5em
      &:before
        left: 1em
    top: 100%
    z-index: 100
    background-color: #FFFFFF
    padding: 1em
    +border-radius(0.2em)
    +box-shadow(0 0 0.2em #545454)
    display: none

    &:before
      content: ""
      position: absolute
      top: -0.9em
      z-index: 101
      height: 0
      width: 0
      border:
        width: 0.5em
        style: solid
        color: transparent transparent #ffffff transparent

    > ul
      list-style-type: none
      font-size: 0.8em
      line-height: 2em

body
  font-family: 'Open Sans', sans-serif
  font-size: 11pt
  font-weight: 300
  color: #03414C
  background: #66D3D3
  min-width: 23em
  position: relative

#AppRoot
  min-height: 100%
  > .footer
    min-height: 100%
    padding-bottom: $footer_height

label
  display: block
  padding-top: 2em
  font-size: 1em
  position: relative

  input[type=text], input[type=password]
    font-size: 1em
    line-height: 2em
    padding: 1em
    height: 1em
    width: 21em
    transition: 0.2s box-shadow

  &:before
    content: attr(data-default-label)
    opacity: 0
    line-height: 1em
    position: absolute
    top: 0.5em
    +transition(0.4s opacity)
  &.has_label:before
    opacity: 1
    +transition(0.4s color)

  &.invalid:not(.initial)
    input:not(:focus)
      +box-shadow(0 0 0 0.1em #f00)

form.failed:not(.initial)
  label.invalid:before
    content: attr(data-validate-error)
    opacity: 1
    color: #ff0000

  input[type=checkbox]
    margin-right: 1em

input, button
  +border-radius(0.2em)
  &:focus
    outline: 0
    +box-shadow(0 0 0 0.1em #2c829d)

input[type=text], input[type=password]
  display: block
  background: #ffffff
  border: 0
  font:
    weight: 300

=inactive_button_style()
  +box-shadow(0 0 0)
  background-color: #d1d1d1
  color: #e2e2e2

input[type=submit], button
  width: 10em
  background: #28aaba
  border: 0
  color: #ffffff
  padding: 1em
  line-height: 1em
  font:
    size: 1em
    weight: 300
    family: 'Roboto Condensed', sans-serif

  transition: 0.1s, 0.1s background, color

  &.inactive
    +inactive_button_style

form.invalid, form.initial
  input[type=submit], button
    +inactive_button_style

*
  padding: 0
  margin: 0

a
  text-decoration: none
  color: #030404

a:hover
  text-decoration: underline

div#Container
  min-height: 100%

#TopNav
  z-index: 20
  position: relative
  height: 4em
  background-color: #E55564

  .laundries
    float: left
    line-height: 2em
    padding: 1em 2em
    color: #fff
    font-family: 'Roboto Condensed', sans-serif
    span
      font-size: 1.5em

  a.home
    background-color: #E5954C
    margin: 0
    display: block
    width: 4em
    height: 4em
    padding: 0

    svg
      $height: (44.1/28.6)
      margin: (2-($height / 2))*1em 1.5em
      width: 1em
      height: $height * 1em
      fill: #ffffff

  > a, > span
    line-height: 4em
    color: #ffffff
    display: block
    float: left
    padding: 0 0.5em
    margin: 0 2em
    font-weight: normal

  a.icon

    svg
      width: 1.2em
      float: left
      height: 4em
      margin: 0 0.5em
      fill: #fff

    &:hover
      $color: #ffb734
      text-decoration: none
      color: $color
      svg
        fill: $color

  div.language
    float: right
    font-size: 0.8em
    > span
      background: transparent url("/images/arrow-down.svg") no-repeat left center
    a, span
      padding-left: 1.5em
      background-size: 1em
      font-size: 1em
    ul
      overflow: hidden
      opacity: 0
      height: 0
      list-style-type: none
      position: absolute
      z-index: 11
      top: 2.5em
      background-color: #E55564
      +border-radius(0 0 0.4em 0.4em)
      +transition(0.3s opacity)

    &:hover
      > span
        opacity: 0.4
      ul
        opacity: 1
        height: auto

  div.user.dropdown
    float: right
    margin: 0
    img.avatar
      margin: 0.5em 1em
      display: block
      float: right
      height: 3em
      width: 3em
      +border-radius(0.2em)
      cursor: pointer
      background-color: #ffffff
    .dropdown_content
      right: 1em

  a.log-in
    float: right
    text-transform: uppercase
    background: #E5954C
    height: 3em
    margin: 0.5em 1em
    line-height: 3em
    padding: 0 3em
    +border-radius(0.2em)
    +transition(0.1s background)
    text-decoration: none
    &:hover
      background: #f3a34e

#LeftNav
  z-index: 19
  position: absolute
  top: 0
  width: 15em
  height: 100%
  background-color: #E5954C
  +transition(0.2s width)

  hr
    border: 0.05em solid #FCDECA
    margin: 2em 1em
  ul
    &:first-of-type
      padding-top: 5em

    li
      list-style-type: none
      position: relative

      a
        overflow: hidden
        height: 4em
        color: #ffffff
        line-height: 4em
        display: block
        position: relative
        width: 100%
        +transition(0.1s background-color)
        &.active
          background-color: #D0833C
        span
          width: 11em
          display: block
          margin-left: 4em
        svg
          width: 1.5em
          height: 1.5em
          fill: #fff
          position: absolute
          top: 1.25em
          left: 1.25em

#MenuExpander
  position: absolute
  width: 4em
  height: 4em
  top: 0
  z-index: 9
  background-color: #E5954C
  cursor: pointer
  overflow: hidden
  +user-select(none)
  svg
    width: 1.5em
    height: 1.5em
    margin: 1.25em
    fill: #ffffff

    &.close
      display: none

div.expanded_left_nav
  > #MenuExpander
    svg:not(.close)
      display: none
    svg.close
      display: block

#RightContent
  margin-left: 15em
  +transition(0.2s margin)

h1
  color: #ffffff
  font-weight: 300
  font-size: 1.5em
  text-align: center
  padding: 1em 0

h2
  color: #ffffff
  font-weight: 300
  font-size: 1.2em
  padding: 1em 0 0 0
  font-family: 'Roboto Condensed', sans-serif

main
  &.naved
    +transition(0.2s padding)
    padding: 5em 0 0 17em
  section
    padding: 0
  section:first-of-type
    padding-top: 2em
  section:last-of-type
    padding-bottom: 2em

form
  position: relative
  &.blur

    &:before
      content: ""
      background-color: rgba(102, 211, 211, 0.81)
      top: 0
      left: 0
      right: 0
      bottom: 0
      position: absolute
      z-index: 100

    &:after
      content: ""
      position: absolute
      top: 50%
      z-index: 101
      text-align: center
      left: 50%
      right: 0
      font-weight: bold
      font-size: 1.5em
      +animation(spin 2s linear infinite, fadeIn 0.4s ease-in)
      background:
        image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMjAuNjE0IDIwLjYxNCIgZmlsbD0iIzM1OWM5YyI+DQoJCTxwYXRoIGQ9Ik0xMC42LDE4LjU5OGM1LjIyOC0xLjgzNCw0LjgyNS01LjA4NSw0LjgyNS01LjA4NUM5Ljg3NCwxMy41MTMsMTAuNiwxOC41OTgsMTAuNiwxOC41OTh6Ii8+DQoJCTxwYXRoIGQ9Ik0yLjIyOCwxNS44MDZjLTAuMzcxLDAuMDM2LTEuODU5LDAuNjY3LTEuMDY2LDIuNTUxYzAuNjc3LDEuNTQxLDEuNzYyLDIuMzk2LDMuNDg3LDIuMjM5DQoJCQlDNC4zNTEsMTcuMDgzLDIuNTk4LDE1Ljg3MywyLjIyOCwxNS44MDZ6Ii8+DQoJCQk8cGF0aCBkPSJNMTkuMjUyLDEuOTAxYzAuMTgxLTAuNjg2LDAuMzMtMS4zMzEsMC40My0xLjkwMWgtNy4zMnYwLjAwMWMwLDAtMC4xMDcsMC43Ny0wLjMwMiwxLjlIMTkuMjUyeiIvPg0KCQkJPHBhdGggZD0iTTExLjg2LDMuMDE1Yy0wLjUyMywyLjc5MS0xLjQyNCw2LjcxMi0yLjU1OSw4LjEyMWMtMS41MzMsMi4wODctNi4zMSw0LjEwMS02LjMxLDQuMTAxDQoJCQkJYzIuOTA4LDIuMDczLDIuNDY0LDUuMTk5LDIuNDY0LDUuMTk5bDQuMTMtMS41NjNjMCwwLTAuODEzLTYuMjQ5LDUuOTA2LTYuMjQ5YzAsMCwyLjE4My01LjI5MSwzLjQ0OC05LjYwOEwxMS44NiwzLjAxNQ0KCQkJCUwxMS44NiwzLjAxNXoiLz4NCg0KPC9zdmc+DQo=")
        repeat: no-repeat
      height: 3em
      width: 3em
      margin-left: -1.5em
      margin-top: -1.5em
    *
      +box-shadow(0 0 0)
  p
    padding: 1em 0
  .notion
    font-family: 'Roboto Condensed', sans-serif
    padding: 0.5em 1em
    background-color: #CC8D3C
    +box-shadow(0 0 0.2em #585858)
    color: #fff
    +border-radius(0.1em)
    text-align: center
    margin: 0.5em 0

    &.error
      background-color: #AF3B3B

    &.success
      background-color: #147F13
  .buttons
    padding-top: 2em
  .select
    background-color: #fff
    height: 3em
    +border-radius(0.2em)

    ul
      display: none

    &.open
      ul
        display: block
        list-style-type: none

svg.step
  +active-step-style

svg.step.inactive
  +inactive-step-style

footer
  height: $footer_height
  width: 100%
  background-color: #47A0A0
  font-weight: 400
  position: absolute
  bottom: 0

  a
    color: #fff

  ul
    overflow: hidden
    max-width: $max_page_width
    margin: auto
    list-style-type: none
    li
      color: #69e7e7
      padding: 2em 1%
      font-size: 1em
      width: (100% / 4) - 2
      float: left
      text-align: center

      svg
        display: block
        margin: 2em auto
        fill: #66D3D3
        width: 3em
        height: 3em

@media only screen and (max-width: 45em)
  #AppRoot > .footer
    padding-bottom: $footer_height * 4

  footer
    height: $footer_height * 4
    ul
      li
        float: none
        margin: auto
        width: 60%
        height: 16em

@media only screen and (max-width: 90em)
  main.naved
    padding-left: 6em
  div:not(.expanded_left_nav)
    > #LeftNav
      width: 4em

      li
        overflow: hidden

        &:before, &:after
          +transition(0.1s opacity)

        &:hover
          overflow: visible
          &:before, &:after
            opacity: 1

        &:before
          content: ""
          position: absolute
          z-index: 101
          height: 0
          width: 0
          top: 1.5em
          right: -1em
          opacity: 0
          border:
            width: 0.5em
            style: solid
            color: transparent #0a7288 transparent transparent

        &:after
          z-index: 100
          content: attr(data-label)
          background: #0a7288
          padding: 0.5em
          position: absolute
          left: 5em
          +border-radius(0.2em)
          color: #fff
          display: block
          top: 0.75em
          font-family: 'Roboto Condensed', sans-serif
          line-height: 1.5em
          width: 8em
          +box-shadow( 0 0 0.1em #000)
          text-align: center
          opacity: 0

  #RightContent
    margin-left: 4em

  #MenuExpander
    z-index: 21

.confirmation_container
  position: fixed
  z-index: 1000
  top: 0
  bottom: 0
  left: 0
  padding-top: 20%
  right: 0
  background-color: rgba(255, 255, 255, 0.5)
  .confirmation_overlay
    z-index: 1001
    position: absolute
    top: 0
    bottom: 0
    left: 0
    right: 0
  .confirmation_box
    +animation(fadeIn 0.2s ease-in)
    position: relative
    z-index: 1002
    margin: auto
    max-width: 23em
    padding: 2em
    background-color: #ffffff
    +box-shadow(0 0 1em #000)

    .message
      text-align: center
    > ul
      padding-top: 2em
      list-style-type: none
      margin: auto
      text-align: center
      li
        padding-right: 1em
        display: inline-block
        &:last-of-type
          padding-right: 0
        .delete
          background-color: #e55564

@media only screen and (max-width: 45em)
  #TopNav
    a.icon
      width: 2.2em
      margin: 0 0.5em
      height: 4em
      padding: 0
      background-position-x: 50%
      color: transparent
      overflow: hidden

@media only screen and (max-width: 30em)
  main.naved
    padding-left: 2em
  #TopNav
    a.log-in
      margin: 0.5em
      padding: 0 1em
  #LeftNav
    overflow: hidden
  div:not(.expanded_left_nav)
    > #LeftNav
      width: 0

  #RightContent
    margin-left: 0

@media only screen and (max-width: 25em)
  main.naved
    padding-left: 0

+keyframes(fadeInWithShadow)
  0%
    opacity: 0

  100%
    opacity: 1

+keyframes(fadeIn)
  0%
    opacity: 0
  100%
    opacity: 1

+keyframes(spin)
  100%
    +transform(rotate(360deg))
